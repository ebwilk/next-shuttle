<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ford Shuttle - Live Tracker</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        .fade-in { animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(2px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Ford Colors & Custom Palette */
        :root {
            --ford-blue: #003478;
            --col-green: #02b547;
            --col-purple: #a22bfc;
            --col-blue: #2576fe;
            --col-orange: #fb5d01;
        }

        body { background-color: transparent; }

        /* Animations */
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(2); opacity: 0; }
        }
        .pulse-ring {
            animation: pulse-ring 2s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-2px); }
            100% { transform: translateY(0px); }
        }
        .bus-float { animation: float 3s ease-in-out infinite; }

        /* Scrollbar */
        .custom-scroll::-webkit-scrollbar { width: 3px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 2px; }
    </style>
</head>
<body class="font-sans text-slate-800 p-4 min-h-screen flex items-center justify-center">

    <!-- WIDGET CONTAINER: Compact Height (180px), w-full for responsiveness -->
    <div class="w-full max-w-2xl bg-white rounded-lg shadow-sm border border-slate-200 flex flex-col overflow-hidden relative h-[180px]">
        
        <!-- HEADER -->
        <div class="bg-[#003478] px-3 py-2 flex items-center justify-between shrink-0 z-20 relative">
            <div class="flex items-center gap-2 min-w-0">
                <i data-lucide="bus" class="w-3.5 h-3.5 text-white shrink-0"></i>
                <div class="min-w-0">
                    <h2 class="text-[11px] font-bold text-white uppercase tracking-wide leading-none truncate">Campus Transit</h2>
                    <p class="text-[9px] text-blue-200 font-medium leading-none mt-0.5 truncate">Dearborn Truck • Stop #4</p>
                </div>
            </div>
            
            <div class="flex items-center gap-2 shrink-0">
                <button onclick="openMap()" class="flex items-center gap-1 bg-white/10 hover:bg-white/20 rounded px-1.5 py-0.5 transition-colors text-white border border-white/10">
                    <i data-lucide="map" class="w-2.5 h-2.5"></i>
                    <span class="text-[8px] font-bold uppercase hidden sm:inline">Map</span>
                </button>
                <div class="flex items-center gap-1 bg-blue-900/50 rounded-full px-1.5 py-0.5 border border-blue-400/30">
                    <div class="relative w-1.5 h-1.5">
                        <div class="absolute inset-0 bg-[#02b547] rounded-full opacity-75 pulse-ring"></div>
                        <div class="relative w-1.5 h-1.5 bg-[#02b547] rounded-full"></div>
                    </div>
                    <span class="text-[8px] font-bold text-white uppercase">Live</span>
                </div>
            </div>
        </div>

        <!-- MAIN BODY: Departure Board List -->
        <div class="flex-1 overflow-y-auto custom-scroll bg-slate-50 relative z-10">
            
            <!-- Route 1: Lot E (Next) -->
            <div class="bg-white border-b border-slate-100 p-2 flex items-center justify-between group hover:bg-blue-50/30 transition-colors">
                <div class="flex items-center gap-3 min-w-0">
                    <div class="w-8 h-8 rounded bg-[#2576fe]/10 text-[#2576fe] flex items-center justify-center shrink-0 border border-[#2576fe]/20">
                        <i data-lucide="map-pin" class="w-4 h-4"></i>
                    </div>
                    <div class="min-w-0">
                        <div class="flex items-center gap-1.5">
                            <span class="text-[11px] font-bold text-slate-800 truncate">Lot E (Express)</span>
                            <span class="text-[8px] font-bold text-[#02b547] bg-green-50 px-1 rounded border border-green-100 shrink-0 whitespace-nowrap">Seats Open</span>
                        </div>
                        <p class="text-[9px] text-slate-400 truncate">Via Gate 4 • Blue Loop</p>
                    </div>
                </div>
                <div class="text-right shrink-0 pl-2">
                    <span class="block text-xl font-black text-slate-800 leading-none group-hover:text-[#2576fe] transition-colors">4<span class="text-[10px] font-medium text-slate-400 ml-0.5">min</span></span>
                    <span class="text-[9px] text-slate-400">Arriving</span>
                </div>
            </div>

            <!-- Route 2: West Gate -->
            <div class="bg-white border-b border-slate-100 p-2 flex items-center justify-between group hover:bg-orange-50/30 transition-colors">
                <div class="flex items-center gap-3 min-w-0">
                    <div class="w-8 h-8 rounded bg-[#fb5d01]/10 text-[#fb5d01] flex items-center justify-center shrink-0 border border-[#fb5d01]/20">
                        <i data-lucide="clock" class="w-4 h-4"></i>
                    </div>
                    <div class="min-w-0">
                        <div class="flex items-center gap-1.5">
                            <span class="text-[11px] font-bold text-slate-800 truncate">West Gate</span>
                            <span class="text-[8px] font-bold text-[#fb5d01] bg-orange-50 px-1 rounded border border-orange-100 shrink-0 whitespace-nowrap">Standing Only</span>
                        </div>
                        <p class="text-[9px] text-slate-400 truncate">Shift Change • Orange Loop</p>
                    </div>
                </div>
                <div class="text-right shrink-0 pl-2">
                    <span class="block text-xl font-black text-slate-800 leading-none group-hover:text-[#fb5d01] transition-colors">12<span class="text-[10px] font-medium text-slate-400 ml-0.5">min</span></span>
                    <span class="text-[9px] text-slate-400">En Route</span>
                </div>
            </div>

            <!-- Route 3: Admin -->
            <div class="bg-white border-b border-slate-100 p-2 flex items-center justify-between group hover:bg-green-50/30 transition-colors">
                <div class="flex items-center gap-3 min-w-0">
                    <div class="w-8 h-8 rounded bg-[#02b547]/10 text-[#02b547] flex items-center justify-center shrink-0 border border-[#02b547]/20">
                        <i data-lucide="check-circle" class="w-4 h-4"></i>
                    </div>
                    <div class="min-w-0">
                        <div class="flex items-center gap-1.5">
                            <span class="text-[11px] font-bold text-slate-800 truncate">Main Lobby</span>
                            <span class="text-[8px] font-bold text-white bg-[#02b547] px-1.5 py-px rounded animate-pulse shrink-0 whitespace-nowrap">BOARDING</span>
                        </div>
                        <p class="text-[9px] text-slate-400 truncate">Cafeteria / HR • Green Loop</p>
                    </div>
                </div>
                <div class="text-right shrink-0 pl-2">
                    <span class="block text-xl font-black text-[#02b547] leading-none">NOW</span>
                    <span class="text-[9px] text-slate-400">Departs 45s</span>
                </div>
            </div>

        </div>

        <!-- FOOTER -->
        <div class="bg-white border-t border-slate-200 px-3 py-1.5 flex justify-between items-center shrink-0 z-20 relative">
            <div class="flex items-center gap-1.5 min-w-0">
                <i data-lucide="cloud-rain" class="w-3 h-3 text-slate-400 shrink-0"></i>
                <span class="text-[9px] text-slate-500 truncate">Rain Delay: <span class="font-bold text-slate-700">+2 mins</span> on all routes</span>
            </div>
            <button onclick="openSchedule()" class="text-[9px] font-bold text-[#003478] hover:underline whitespace-nowrap pl-2">
                Full Schedule
            </button>
        </div>

        <!-- MAP OVERLAY -->
        <div id="mapOverlay" class="absolute inset-0 bg-white z-40 transform translate-x-full transition-transform duration-300 flex flex-col">
             <!-- Header -->
            <div class="bg-[#003478] px-3 py-1.5 flex items-center gap-2 shrink-0">
                <button onclick="closeMap()" class="text-white/80 hover:text-white">
                    <i data-lucide="arrow-left" class="w-3.5 h-3.5"></i>
                </button>
                <h3 class="text-[10px] font-bold text-white uppercase tracking-wide">Live Tracking</h3>
            </div>
            
            <!-- Skeleton Map -->
            <div class="flex-1 relative bg-slate-50 overflow-hidden flex items-center justify-center">
                <div class="absolute inset-0 opacity-5" style="background-image: linear-gradient(#003478 1px, transparent 1px), linear-gradient(90deg, #003478 1px, transparent 1px); background-size: 20px 20px;"></div>
                
                <div class="w-full h-full relative px-8 py-6">
                    <svg class="absolute inset-0 w-full h-full" style="pointer-events: none;">
                        <path d="M 40,50 Q 150,10 250,50 T 460,50" fill="none" stroke="#e2e8f0" stroke-width="4" />
                        <path d="M 40,50 Q 150,10 250,50 T 460,50" fill="none" stroke="#003478" stroke-width="2" stroke-dasharray="4 4" class="opacity-30" />
                    </svg>

                    <!-- Stops -->
                    <div class="absolute top-[40%] left-[5%] flex flex-col items-center gap-1">
                        <div class="w-2.5 h-2.5 bg-white border-2 border-[#2576fe] rounded-full z-10 relative"></div>
                        <span class="text-[8px] font-bold text-slate-500 bg-white px-1 rounded shadow-sm">Lot E</span>
                    </div>
                    <div class="absolute top-[20%] left-[50%] flex flex-col items-center gap-1">
                        <div class="w-2.5 h-2.5 bg-white border-2 border-[#fb5d01] rounded-full z-10"></div>
                        <span class="text-[8px] font-bold text-slate-500 bg-white px-1 rounded shadow-sm">West Gate</span>
                    </div>
                    <div class="absolute top-[40%] right-[5%] flex flex-col items-center gap-1">
                        <div class="w-2.5 h-2.5 bg-white border-2 border-[#02b547] rounded-full z-10"></div>
                        <span class="text-[8px] font-bold text-slate-500 bg-white px-1 rounded shadow-sm">Lobby</span>
                    </div>

                    <!-- Buses -->
                    <div class="absolute top-[35%] left-[20%] bus-float transition-all duration-1000">
                        <div class="bg-[#2576fe] text-white px-1.5 py-0.5 rounded shadow-lg flex items-center gap-1 z-20 relative">
                            <i data-lucide="bus" class="w-2 h-2"></i>
                            <span class="text-[8px] font-bold">4m</span>
                        </div>
                    </div>
                    <div class="absolute top-[15%] left-[40%] bus-float transition-all duration-1000" style="animation-delay: 1s;">
                        <div class="bg-[#fb5d01] text-white px-1.5 py-0.5 rounded shadow-lg flex items-center gap-1 z-20 relative">
                            <i data-lucide="bus" class="w-2 h-2"></i>
                            <span class="text-[8px] font-bold">12m</span>
                        </div>
                    </div>
                    <div class="absolute top-[32%] right-[5%] transition-all duration-1000">
                        <div class="bg-[#02b547] text-white px-1.5 py-0.5 rounded shadow-lg flex items-center gap-1 z-20 relative animate-bounce">
                            <span class="text-[8px] font-bold">HERE</span>
                        </div>
                    </div>
                </div>
                <div class="absolute bottom-1 right-2 text-[8px] text-slate-300 font-mono">LIVE FEED • CAM_02</div>
            </div>
        </div>

        <!-- SCHEDULE OVERLAY -->
        <div id="scheduleOverlay" class="absolute inset-0 bg-white z-40 transform translate-x-full transition-transform duration-300 flex flex-col">
            <div class="bg-[#003478] px-3 py-1.5 flex items-center gap-2 shrink-0">
                <button onclick="closeSchedule()" class="text-white/80 hover:text-white">
                    <i data-lucide="arrow-left" class="w-3.5 h-3.5"></i>
                </button>
                <h3 class="text-[10px] font-bold text-white uppercase tracking-wide">Daily Timetable</h3>
            </div>
            <div class="flex-1 overflow-y-auto custom-scroll p-3 bg-slate-50">
                <div class="space-y-4">
                    <div>
                        <span class="text-[10px] font-bold text-[#003478] uppercase block mb-1">Lot E Express</span>
                        <div class="grid grid-cols-4 gap-2 text-center text-[10px] font-mono text-slate-500">
                            <span>14:00</span><span class="bg-blue-100 text-blue-800 font-bold rounded">14:10</span><span>14:20</span><span>14:30</span>
                        </div>
                    </div>
                    <div>
                        <span class="text-[10px] font-bold text-[#003478] uppercase block mb-1">West Gate Loop</span>
                        <div class="grid grid-cols-4 gap-2 text-center text-[10px] font-mono text-slate-500">
                            <span>14:00</span><span>14:15</span><span class="bg-orange-100 text-orange-800 font-bold rounded">14:30</span><span>14:45</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Initialize Icons & Scripts -->
    <script>
        lucide.createIcons();

        function openSchedule() { document.getElementById('scheduleOverlay').classList.remove('translate-x-full'); }
        function closeSchedule() { document.getElementById('scheduleOverlay').classList.add('translate-x-full'); }
        function openMap() { document.getElementById('mapOverlay').classList.remove('translate-x-full'); }
        function closeMap() { document.getElementById('mapOverlay').classList.add('translate-x-full'); }
    </script>
</body>
</html>
